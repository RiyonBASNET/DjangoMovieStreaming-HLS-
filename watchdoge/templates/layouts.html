{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="{% static 'images/DogeInc.ico' %}" type="image/x-icon">

    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!-- boxicons -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <!-- fontawesome cdn link css -->
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
        integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />

    {% block title %}
    {{section.title}}
    {% endblock %}

    <link rel="stylesheet" href="{% static 'css/admin_css.css'%}">
</head>

<body>

    <!-- Menu -->
    {% if user.is_staff %}
    <button class="btn btn-outline-dark btn-light mt-2 mx-2" type="button" data-bs-toggle="offcanvas"
        data-bs-target="#offcanvasMenu" aria-controls="offcanvasWithBothOptions"><i class="fas fa-bars"></i></button>

    <div class="offcanvas offcanvas-start " data-bs-scroll="true" tabindex="-1" id="offcanvasMenu"
        aria-labelledby="offcanvasMenuLabel">
        <div class="offcanvas-header">
            <h4 class="offcanvas-title" id="#offcanvasMenuLabel">Menu</h4>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">

            <div class="list-group">
                <a href="{% url 'admin-dashboard' %}"
                    class="text-decoration-none list-group-item list-group-item-action">
                    <i class="far fa-tachometer-alt-slow"></i> Dashboard
                </a>
                <a href="{% url 'admin-users-list' %}"
                    class="text-decoration-none list-group-item list-group-item-action">
                    <i class="fas fa-user"></i> Users
                </a>
                <a href="{% url 'admin-movies-list' %}"
                    class="text-decoration-none list-group-item list-group-item-action">
                    <i class="far fa-film-alt"></i> Movies List
                </a>
                <a href="{% url 'upload-movie' %}" class="text-decoration-none list-group-item list-group-item-action">
                    <i class="fa fa-upload"></i> Upload Movie
                </a>
                <a href="{% url 'admin-genres-list' %}"
                    class="text-decoration-none list-group-item list-group-item-action">
                    <i class="far fa-film"></i> Genres List
                </a>
                <a href="{% url 'add-genre' %}" class="text-decoration-none list-group-item list-group-item-action">
                    <i class="fas fa-upload"></i> Add Genre
                </a>
            </div>
        </div>
        <div class="offcanvas-body">
            <div class="img my-2">
                <img src="{{user.userprofile.profile_picture.url}}" alt=""
                    class="img-fluid border border-3 border-dark rounded-circle" width="200">
            </div>
            <ul class="list-unstyled list-group">
                <li class="list-group-item">
                    <b>Name : </b> {{ user.username }}
                </li>
                <li class="list-group-item">
                    <b>Email : </b> {{ user.email}}
                </li>
            </ul>

            <a href="{% url 'logout' %}" class="btn btn-danger text-decoration-none mt-2">Logout</a>
        </div>
    </div>

    {% endif %}
    <div class="main container-fluid">
        {% for msg in messages %} {% if msg.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
        <div class="alert alert-success alert-dismissible fade show">{{msg}}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endif %} {% if msg.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
        <div class="alert alert-danger alert-dismissible fade show">{{msg}}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endif %} {% endfor %}
        {% block main_content %}

        {% endblock %}
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

</body>

</html>